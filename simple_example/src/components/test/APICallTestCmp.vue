<template>
  <div class="APICallTestCmp testWrap">
    <h2>ğŸ‘¨â€ğŸ« API Call Test</h2>
    <h4>ì´ë©”ì¼ : <input v-model="email" placeholder="ì´ë©”ì¼"></h4>
    <h4>íŒ¨ìŠ¤ì›Œë“œ : <input v-model="pwd" placeholder="íŒ¨ìŠ¤ì›Œë“œ"></h4>
    <button @click="call()">API Call</button>
  </div>
  <div>
    <h4>API Response</h4>
    <div style="max-width: 43.75rem; height: 18.75rem; overflow: auto;">
      {{ result }}
    </div>
  </div>
</template>

<script setup>
import { inject, ref } from 'vue'; // injectë¡œ provideë¡œ ì „ë‹¬ë°›ì€ ë°ì´í„° ì‚¬ìš©

const URL = inject('$Login');
const Axios = inject('$Axios');
const result = ref("");
const email = ref("");
const pwd = ref("");

const call = async() => {
  const data = {
    "email": email.value,
    "password": pwd.value
  };

  await Axios
    .post(URL, data)
    .then(res => {
      console.log(res);
      result.value = res.data;
    })
    .catch(err => {
      console.log(err);
    });
}

// ì´ë©”ì¼ : eve.holt@reqres.in
// ë¹„ë°€ë²ˆí˜¸ : cityslicka
</script>